!function(e,t){"function"==typeof define&&define.amd?define(["efa"],t(e)):"object"==typeof exports?module.exports=t(require("efa")):e.eclipseFdnAdopters=t(e,e.efa)}(this,function(e){"use strict";var t={},o={project_id:"",selector:".eclipsefdn-adopters",ul_classes:"",logo_white:!1,working_group:"",src_root:"https://api.eclipse.org/adopters",src_projects_prefix:"/projects"};function r(e){var t=JSON.parse(JSON.stringify(o));if(void 0!==e&&"object"==typeof e)for(var r in o)void 0===e[r]||"string"!=typeof e[r]&&"boolean"!=typeof e[r]||(t[r]=e[r]);return t}function i(e,t){var o=new XMLHttpRequest;o.onreadystatechange=function(){4==this.readyState&&200==this.status?t(this.responseText):4==this.readyState&&console.log("Error while retrieving adopters data, could not complete operation")};var r=e.src_root+e.src_projects_prefix;void 0!==e.project_id&&""!==e.project_id.trim()&&(r+=e.project_id),void 0!==e.working_group&&""!==e.working_group.trim()&&(r+="?working_group="+e.working_group),o.open("GET",r,!0),o.send()}function n(e,t,o){const r=document.createElement("ul");if(void 0!==e)for(const o of e)if(t.project_id===o.project_id)for(const e of o.adopters){var i="";void 0!==e.homepage_url&&(i=e.homepage_url);var n="";void 0!==e.name&&(n=e.name);var s="";void 0!==e.logo&&(s=e.logo),!0===t.logo_white&&void 0!==e.logo_white&&(s=e.logo_white);let o=document.createElement("li"),c=document.createElement("a"),a=document.createElement("img");c.setAttribute("href",i),a.setAttribute("alt",n),a.setAttribute("src",t.src_root+"/assets/images/adopters/"+s),c.appendChild(a),o.appendChild(c),r.appendChild(o)}for(var c=0;c<o.length;c++)""!==t.ul_classes&&r.setAttribute("class",t.ul_classes),o[c].append(r)}return t.getList=function(e){var t=r(e);console.log(t),i(t,function(e){n(JSON.parse(e),t,document.querySelectorAll(t.selector))})},t.getWGList=function(e){var t=r(e);i(t,function(e){!function(e,t,o){for(const s of e){var r=JSON.parse(JSON.stringify(t));r.project_id=s.project_id;const c=document.createElement("h3");c.textContent=s.name;for(var i=0;i<o.length;i++)o[i].append(c);n(e,r,o)}}(JSON.parse(e),t,document.querySelectorAll(t.selector))})},t});
